# ================================================
# PERFIL DE PRODUCCIÓN - CLOUD RUN
# ================================================

spring.application.name=political_referrals_wa

# Puerto para Cloud Run (se configura automáticamente)
server.port=${PORT:8080}

# Google Cloud Project ID
spring.cloud.gcp.project-id=${SPRING_CLOUD_GCP_PROJECT_ID:intreasoft-daniel}

# ================================================
# CONFIGURACIÓN DE WEBHOOK Y TELEGRAM
# ================================================

# Webhook verification token
webhook.verify-token=${WEBHOOK_VERIFY_TOKEN}

# Telegram Bot Configuration
telegram.bot.token=${TELEGRAM_BOT_TOKEN}
telegram.bot.username=${TELEGRAM_BOT_USERNAME}

# ================================================
# CONFIGURACIÓN DE WATI API
# ================================================

# WATI API Configuration
wati.api.tenant-id=${WATI_TENANT_ID}
wati.api.token=${WATI_API_TOKEN}
wati.api.endpoint.base=${WATI_API_ENDPOINT_BASE:https://live-mt-server.wati.io:443}

# ================================================
# CONFIGURACIÓN DE GEMINI AI
# ================================================

# Gemini AI Configuration
gemini.api.key=${GEMINI_API_KEY}
gemini.api.url=${GEMINI_API_URL:https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent}

# ================================================
# CONFIGURACIÓN DE ANALYTICS
# ================================================

# Analytics Configuration
analytics.jwt.secret=${ANALYTICS_JWT_SECRET}
analytics.jwt.expiration.minutes=60

# ================================================
# URLs DE SERVICIOS
# ================================================

# AI Bot endpoint
ai.bot.endpoint=${AI_BOT_ENDPOINT}

# Chatbot IA URL
chatbot.ia.url=${CHATBOT_IA_URL}

# Analytics endpoint URL
analytics.endpoint.url=${ANALYTICS_ENDPOINT_URL}

# Welcome video URL
welcome.video.url=${WELCOME_VIDEO_URL}

# ================================================
# CONFIGURACIÓN DE NOTIFICACIONES WHATSAPP
# ================================================

# Habilitar/deshabilitar notificaciones
wati.notification.enabled=${WATI_NOTIFICATION_ENABLED:true}

# ID del grupo de WhatsApp
wati.notification.group.id=${WATI_NOTIFICATION_GROUP_ID}

# Números de teléfono para notificaciones
wati.notification.phones=${WATI_NOTIFICATION_PHONES}

# ================================================
# CONFIGURACIONES AVANZADAS
# ================================================

# Forzar IPv4 (útil para Cloud Run)
java.net.preferIPv4Stack=true

# Configuración de logging para producción
logging.level.com.politicalreferralswa=INFO
logging.level.org.springframework.web=INFO
logging.level.org.springframework.boot=INFO

# Configuración de Actuator para producción
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.defaults.enabled=true
management.endpoints.web.base-path=/actuator

# Configuración de Tomcat para producción
spring.main.web-application-type=servlet
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10
server.tomcat.connection-timeout=20000

# Configuración de Swagger/OpenAPI para producción
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.doc-expansion=none
springdoc.swagger-ui.try-it-out-enabled=false
springdoc.swagger-ui.filter=true

# Configuraciones específicas para producción
spring.main.banner-mode=off
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=validate
